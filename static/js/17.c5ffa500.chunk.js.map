{"version":3,"sources":["pages/production/purchase/form/input/index.js"],"names":["Option","Select","connect","purchase","params","newPurchaseOrderId","items","suppliers","dispatch","Form","useForm","formInput","today","Date","toLocaleDateString","itemSelectOption","key","disabled","length","map","o","value","name","supplierSelectOption","useEffect","generatePurchaseOrderId","getItemList","getSupplierList","setFieldsValue","quantityWeight","quantityVolume","type","title","className","form","labelCol","xs","span","sm","wrapperCol","labelAlign","onFinish","values","productionId","dateToday","payload","Item","label","placeholder","id","rules","required","message","onChange","event","unitPrice","getFieldsValue","undefined","totalPrice","target","addonAfter","addonBefore","to"],"mappings":"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","file":"static/js/17.c5ffa500.chunk.js","sourcesContent":["import React, { useEffect } from 'react';\r\nimport { Link } from 'react-router-dom'\r\nimport { connect } from 'react-redux';\r\nimport { Helmet } from 'react-helmet';\r\nimport { Input, Select, Form } from 'antd';\r\nimport './style.module.css';\r\n\r\nconst { Option } = Select\r\n\r\nconst mapStateToProps = ({ purchase, params}) => ({\r\n  newPurchaseOrderId: purchase.newPurchaseOrderId,\r\n  items: params.items,\r\n  suppliers: params.suppliers,\r\n})\r\n\r\nconst InputPurchaseOrder = ({ dispatch, newPurchaseOrderId, items, suppliers}) => {\r\n\r\n  const [formInput] = Form.useForm();\r\n\r\n  const fullDate = new Date();\r\n  const today = fullDate.toLocaleDateString(\"en-US\")\r\n  const isInputDisabled = true;\r\n\r\n  // Populate item list\r\n  let itemSelectOption = (\r\n    <Option key=\"item\" disabled={isInputDisabled}>items</Option>\r\n  );\r\n\r\n  if(items.length > 0)\r\n  {\r\n    itemSelectOption = items.map(o => (\r\n      <Option value={o.name} key={o.name}>{o.name}</Option>\r\n    ));\r\n  }\r\n\r\n  // Populate supplier list\r\n  let supplierSelectOption = (\r\n    <Option key=\"supplier\" disabled={isInputDisabled}>suppliers</Option>\r\n  );\r\n\r\n  if(suppliers.length > 0)\r\n  {\r\n    supplierSelectOption = suppliers.map(o => (\r\n      <Option value={o.name} key={o.name}>{o.name}</Option>\r\n    ));\r\n  }\r\n\r\n  useEffect(() => {\r\n    generatePurchaseOrderId();\r\n    getItemList();\r\n    getSupplierList();\r\n    formInput.setFieldsValue({\r\n      quantityWeight: '0',\r\n      quantityVolume: '0',\r\n    });\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [])\r\n\r\n  const generatePurchaseOrderId = () => {\r\n    dispatch({\r\n      type: 'purchase/GENERATE_ORDER_ID',\r\n    })\r\n  };\r\n\r\n  const getItemList = () => {\r\n    dispatch({\r\n      type: 'params/GET_ITEM_LIST',\r\n    })\r\n  };\r\n  \r\n  const getSupplierList = () => {\r\n    dispatch({\r\n      type: 'params/GET_SUPPLIER_LIST',\r\n    })\r\n  };\r\n\r\n  const formItemLayout = {\r\n    labelCol: {\r\n      xs: { span: 24 },\r\n      sm: { span: 4 },\r\n    },\r\n    wrapperCol: {\r\n      xs: { span: 24 },\r\n      sm: { span: 12 },\r\n    },\r\n  }\r\n\r\n  const onQuantityWeightChange = (event) => {\r\n    let { unitPrice } = formInput.getFieldsValue();\r\n    if (unitPrice === undefined || unitPrice === \"\")\r\n      unitPrice = 0;\r\n\r\n    const totalPrice = event.target.value * unitPrice;\r\n    formInput.setFieldsValue({\r\n      totalPrice,\r\n    });\r\n  }\r\n\r\n  const onUnitPriceChange = (event) => {\r\n    let { quantityWeight } = formInput.getFieldsValue();\r\n    if (quantityWeight === undefined || quantityWeight === \"\")\r\n      quantityWeight = 0;\r\n\r\n    const totalPrice = event.target.value * quantityWeight;\r\n    formInput.setFieldsValue({\r\n      totalPrice,\r\n    });\r\n  }\r\n\r\n  const onFinish = values => {\r\n    values.productionId = newPurchaseOrderId;\r\n    values.dateToday = today;\r\n\r\n    dispatch({\r\n      type: 'purchase/SUBMIT_PURCHASE_ORDER',\r\n      payload: values,\r\n    })\r\n  }\r\n\r\n\r\n  return (\r\n    <div>\r\n      <Helmet title=\"Input / Pengajuan\" />\r\n      <div className=\"kit__utils__heading\">\r\n        <h5>Input pengajuan</h5>\r\n      </div>\r\n      <div className=\"card\">\r\n        <div className=\"card-body\">\r\n          <Form \r\n            form={formInput}\r\n            {...formItemLayout} \r\n            labelAlign=\"left\"\r\n            onFinish={onFinish}\r\n          >\r\n            <Form.Item name=\"productionId\" label=\"Kode Produksi\">\r\n              <Input placeholder={newPurchaseOrderId} disabled={isInputDisabled} />\r\n            </Form.Item>\r\n            <Form.Item name=\"dateToday\" label=\"Tanggal\">\r\n              <Input placeholder={today} disabled={isInputDisabled} />\r\n            </Form.Item>\r\n            <Form.Item id=\"itemName\" name=\"itemName\" label=\"Nama Item\" rules={[{ required: true, message: 'Item harus dipilih' }]}>\r\n              <Select placeholder=\"Pilih item\">\r\n                {itemSelectOption}\r\n              </Select>\r\n            </Form.Item>\r\n            <Form.Item name=\"supplierName\" label=\"Supplier\" rules={[{ required: true, message: 'Supplier harus dipilih' }]}>\r\n              <Select id=\"supplierNameSelect\" placeholder=\"Pilih supplier\">\r\n                {supplierSelectOption}\r\n              </Select>\r\n            </Form.Item>\r\n            <Form.Item name=\"quantityWeight\" label=\"Quantity\" rules={[{ required: true, message: 'Quantity harus diisi' }]}>\r\n              <Input type=\"number\" onChange={onQuantityWeightChange} placeholder=\"Masukkan quantity\" addonAfter=\"kg\" />\r\n            </Form.Item>\r\n            <Form.Item name=\"quantityVolume\" label=\"Quantity\" rules={[{ required: true, message: 'Quantity harus diisi' }]}>\r\n              <Input type=\"number\" placeholder=\"Masukkan quantity\" addonAfter=\"Ekor\" />\r\n            </Form.Item>\r\n            <Form.Item name=\"unitPrice\" label=\"Harga / kg\" rules={[{ required: true, message: 'Harga harus diisi' }]}>\r\n              <Input type=\"number\" onChange={onUnitPriceChange} placeholder=\"Masukkan harga/kg\" addonBefore=\"Rp.\" addonAfter=\"/ kg\" />\r\n            </Form.Item>\r\n            <Form.Item name=\"totalPrice\" label=\"Total harga\" rules={[{ required: true, message: 'Total harga harus diisi' }]}>\r\n              <Input type=\"number\" disabled={isInputDisabled} placeholder=\"Masukkan total harga\" addonBefore=\"Rp.\" />\r\n            </Form.Item>\r\n            <Link to=\"/production/purchase\" className=\"kit__utils__link font-size-16\">\r\n              <i className=\"fe fe-arrow-left mr-1 align-middle\" />\r\n              Kembali\r\n            </Link>\r\n            <button type=\"submit\" className=\"btn btn-success float-right\">\r\n              Buat Pengajuan\r\n            </button>\r\n          </Form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default connect(mapStateToProps)(InputPurchaseOrder)\r\n"],"sourceRoot":""}