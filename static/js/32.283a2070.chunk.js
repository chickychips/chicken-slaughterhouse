(this["webpackJsonpchicken-slaughterhouse"]=this["webpackJsonpchicken-slaughterhouse"]||[]).push([[32],{539:function(e,t,a){"use strict";a.r(t);var n=a(321),i=a(322),l=a(323),r=a(324),o=a(0),s=a.n(o),c=a(45),m=a(14),u=a(133),h=a(376),d=a(189),g=a(546),p=a(547),w=a(545),f=a(97),E=h.a.Option,I=function(e){Object(r.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,l=new Array(i),r=0;r<i;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={transactionIdSelectOption:null,thawingDataDetails:null,totalQuantityWeight:null,totalQuantityVolume:null,customer:null},e.formRefInput=s.a.createRef(),e.onTransactionIdChange=function(t){var a=e.props.thawingData,n=[],i=0,l=0;e.setState({thawingDataDetails:n,totalQuantityWeight:i,totalQuantityVolume:l}),(n=a.thawingData.filter((function(e){return e.reference_id===t}))).forEach((function(e,t){e.key=t+1,e.item_name_frozen="FROZEN ".concat(e.item_name),i+=parseInt(e.quantity_weight,10),l+=parseInt(e.quantity_volume,10)})),e.formRefInput.current.setFieldsValue({customer:n[0].customer}),e.setState({thawingDataDetails:n,totalQuantityWeight:i,totalQuantityVolume:l})},e.onButtonAddClick=function(){var t=e.props.newThawingId,a=e.formRefInput.current.getFieldsValue().transactionId,n=e.state.thawingDataDetails;if(null===n||n.length<1)d.a.error({message:"Silahkan pilih kode invoice"});else{var i={thawingId:t,referenceId:a,items:n};(0,e.props.processThawing)(i)}},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.generateThawingId,a=e.getPendingTransaction;t(),a()}},{key:"render",value:function(){var e=this.props,t=e.newThawingId,a=e.thawingData,n=(new Date).toLocaleDateString("en-US"),i=this.state,l=i.transactionIdSelectOption,r=i.customer,o=i.thawingDataDetails,m=i.totalQuantityWeight,d=i.totalQuantityVolume;return l=l||[],o=o||[],m=m||0,d=d||0,r=r||"",Object.keys(a).length>0&&(l=a.pendingTransactionId.map((function(e){return s.a.createElement(E,{value:e,key:e},e)}))),s.a.createElement("div",null,s.a.createElement(u.a,{title:"Process / Thawing"}),s.a.createElement("div",{className:"kit__utils__heading"},s.a.createElement("h5",null,"Proses Thawing")),s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-body"},s.a.createElement(g.a,Object.assign({},{labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:12}}},{ref:this.formRefInput,labelAlign:"left",onFinish:this.onFinish}),s.a.createElement(g.a.Item,{name:"newThawingId",label:"Kode Thawing"},s.a.createElement(p.a,{placeholder:t,disabled:!0})),s.a.createElement(g.a.Item,{name:"dateToday",label:"Tanggal"},s.a.createElement(p.a,{placeholder:n,disabled:!0})),s.a.createElement(g.a.Item,{id:"transactionId",name:"transactionId",label:"Kode Invoice"},s.a.createElement(h.a,{onChange:this.onTransactionIdChange,placeholder:"Pilih kode invoice"},l)),s.a.createElement(g.a.Item,{name:"customer",label:"Pembeli"},s.a.createElement(p.a,{placeholder:r,disabled:!0})),s.a.createElement("div",null,s.a.createElement("br",null)),s.a.createElement("div",{className:"mb-4 kit__utils__scrollTable"},s.a.createElement(w.a,{columns:[{title:"Nama Item",width:100,dataIndex:"item_name_frozen",key:"item_name_frozen"},{title:"Qty (kg)",width:100,dataIndex:"quantity_weight",key:"quantity_weight"},{title:"Qty (Ekor/Pax)",width:100,dataIndex:"quantity_volume",key:"quantity_volume"}],dataSource:o}))),s.a.createElement("div",{className:"border-top text-dark font-size-18 pt-4"},s.a.createElement("p",{className:"mb-1 text-right"},"Total Qty (kg): ",s.a.createElement("strong",{className:"font-size-24"},m)),s.a.createElement("p",{className:"mb-1 text-right"},"Total Qty (Ekor/Pax): ",s.a.createElement("strong",{className:"font-size-24"},d)),s.a.createElement(c.a,{to:"/",className:"kit__utils__link font-size-16"},s.a.createElement("i",{className:"fe fe-arrow-left mr-1 align-middle"}),"Kembali"),s.a.createElement(f.a,{onClick:this.onButtonAddClick,className:"btn btn-lg btn-success width-200 mb-2 float-right"},"Proses")))))}}]),a}(s.a.Component);t.default=Object(m.c)((function(e){var t=e.thawing;return{newThawingId:t.newThawingId,thawingData:t.thawingData}}),(function(e){return{generateThawingId:function(){e({type:"thawing/GENERATE_THAWING_ID"})},getPendingTransaction:function(){e({type:"thawing/GET_DATA"})},processThawing:function(t){e({type:"thawing/PROCESS_THAWING",payload:t})}}}))(I)}}]);
//# sourceMappingURL=32.283a2070.chunk.js.map