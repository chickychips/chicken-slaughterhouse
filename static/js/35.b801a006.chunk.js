(this["webpackJsonpchicken-slaughterhouse"]=this["webpackJsonpchicken-slaughterhouse"]||[]).push([[35],{543:function(e,t,a){"use strict";a.r(t);var n=a(321),i=a(322),r=a(323),l=a(324),o=a(0),s=a.n(o),c=a(45),d=a(14),m=a(133),u=a(376),h=a(189),g=a(546),p=a(547),y=a(545),f=a(97),_=u.a.Option,v=function(e){Object(l.a)(a,e);var t=Object(r.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,r=new Array(i),l=0;l<i;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={transactionIdSelectOption:null,orderDetails:null,customer:null,totalQuantityWeight:null,totalQuantityVolume:null,orderDetailsForPayload:[]},e.formRefInput=s.a.createRef(),e.onTransactionIdChange=function(t){var a=e.props.itemsToBeDelivered,n=[],i=0,r=0;e.setState({orderDetails:n,totalQuantityWeight:i,totalQuantityVolume:r,orderDetailsForPayload:[]}),n=a.pendingTransactionData.filter((function(e){return e.ref_id===t}));var l=[];n.forEach((function(e,t){var a={};a.name=e.item_name,a.isFrozen=e.is_frozen,a.isThawed=e.is_thawed,a.quantityWeight=e.quantity_weight,a.quantityVolume=e.quantity_volume,l.push(a),e.key=t+1,e.item_name_frozen="FROZEN ".concat(e.item_name),e.is_item_thawing=!0===e.is_thawed?"Iya":"Tidak",i+=parseInt(e.quantity_weight,10),r+=parseInt(e.quantity_volume,10)})),e.formRefInput.current.setFieldsValue({customer:n[0].customer}),e.setState({orderDetails:n,totalQuantityWeight:i,totalQuantityVolume:r,orderDetailsForPayload:l})},e.onButtonAddClick=function(){var t=e.props.deliveryId,a=e.formRefInput.current.getFieldsValue().transactionId,n=e.state,i=n.orderDetails,r=n.orderDetailsForPayload;if(null===i||i.length<1)h.a.error({message:"Silahkan pilih kode invoice"});else{var l={id:t,transactionId:a,storageSource:"frozen",items:r};(0,e.props.deliverItem)(l)}},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.generateDeliveryId,a=e.getPendingTransaction;t(),a()}},{key:"render",value:function(){var e=this.props,t=e.deliveryId,a=e.itemsToBeDelivered,n=(new Date).toLocaleDateString("en-US"),i=this.state,r=i.transactionIdSelectOption,l=i.customer,o=i.orderDetails,d=i.totalQuantityWeight,h=i.totalQuantityVolume;return r=r||[],o=o||[],d=d||0,h=h||0,l=l||"",Object.keys(a).length>0&&(r=a.pendingTransactionId.map((function(e){return s.a.createElement(_,{value:e,key:e},e)}))),s.a.createElement("div",null,s.a.createElement(m.a,{title:"Stock / Out"}),s.a.createElement("div",{className:"kit__utils__heading"},s.a.createElement("h5",null,"Stok Keluar")),s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-body"},s.a.createElement(g.a,Object.assign({},{labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:12}}},{ref:this.formRefInput,labelAlign:"left",onFinish:this.onFinish}),s.a.createElement(g.a.Item,{name:"deliveryId",label:"Nomor Surat Jalan"},s.a.createElement(p.a,{placeholder:t,disabled:!0})),s.a.createElement(g.a.Item,{name:"dateToday",label:"Tanggal"},s.a.createElement(p.a,{placeholder:n,disabled:!0})),s.a.createElement(g.a.Item,{id:"transactionId",name:"transactionId",label:"Kode Invoice"},s.a.createElement(u.a,{onChange:this.onTransactionIdChange,placeholder:"Pilih kode invoice"},r)),s.a.createElement(g.a.Item,{name:"customer",label:"Pembeli"},s.a.createElement(p.a,{placeholder:l,disabled:!0})),s.a.createElement("div",null,s.a.createElement("br",null)),s.a.createElement("div",{className:"mb-4 kit__utils__scrollTable"},s.a.createElement(y.a,{columns:[{title:"Nama Item",width:100,dataIndex:"item_name_frozen",key:"item_name_frozen"},{title:"Item Perlu Thawing",width:100,dataIndex:"is_item_thawing",key:"is_item_thawing"},{title:"Qty (kg)",width:100,dataIndex:"quantity_weight",key:"quantity_weight"},{title:"Qty (Ekor/Pax)",width:100,dataIndex:"quantity_volume",key:"quantity_volume"}],dataSource:o}))),s.a.createElement("div",{className:"border-top text-dark font-size-18 pt-4"},s.a.createElement("p",{className:"mb-1 text-right"},"Total Qty (kg): ",s.a.createElement("strong",{className:"font-size-24"},d)),s.a.createElement("p",{className:"mb-1 text-right"},"Total Qty (Ekor/Pax): ",s.a.createElement("strong",{className:"font-size-24"},h)),s.a.createElement(c.a,{to:"/storage/frozen",className:"kit__utils__link font-size-16"},s.a.createElement("i",{className:"fe fe-arrow-left mr-1 align-middle"}),"Kembali"),s.a.createElement(f.a,{onClick:this.onButtonAddClick,className:"btn btn-lg btn-success width-200 mb-2 float-right"},"Proses")))))}}]),a}(s.a.Component);t.default=Object(d.c)((function(e){var t=e.storage;return{deliveryId:t.deliveryId,itemsToBeDelivered:t.itemsToBeDelivered}}),(function(e){return{generateDeliveryId:function(){e({type:"storage/GENERATE_DELIVERY_ID",payload:{storageSource:"frozen"}})},getPendingTransaction:function(){e({type:"storage/GET_PENDING_TRANSACTION",payload:{storageSource:"frozen"}})},deliverItem:function(t){e({type:"storage/DELIVER_ITEM",payload:t})}}}))(v)}}]);
//# sourceMappingURL=35.b801a006.chunk.js.map