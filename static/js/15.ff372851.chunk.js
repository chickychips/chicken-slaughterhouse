(this["webpackJsonpchicken-slaughterhouse"]=this["webpackJsonpchicken-slaughterhouse"]||[]).push([[15],{526:function(t,e,a){},540:function(t,e,a){"use strict";a.r(e);var n=a(321),i=a(322),u=a(323),l=a(324),r=a(0),o=a.n(r),m=a(45),s=a(14),c=a(133),p=a(376),d=a(189),g=a(548),h=a(549),y=a(547),I=a(97),f=(a(526),p.a.Option),v=function(t){Object(l.a)(a,t);var e=Object(u.a)(a);function a(){var t;Object(n.a)(this,a);for(var i=arguments.length,u=new Array(i),l=0;l<i;l++)u[l]=arguments[l];return(t=e.call.apply(e,[this].concat(u))).state={productionIdSelectOption:null,formProductionIdHideToggle:null,outputItemSelectOption:null,inputItemSelectOption:null,outputItemList:null,inputQuantityVolumeMeasurementUnit:null,outputQuantityVolumeMeasurementUnit:null,isInputQuantityWeightDisabled:null,isInputQuantityVolumeDisabled:null},t.formRefInput=o.a.createRef(),t.formRefOutput=o.a.createRef(),t.onItemSourceChange=function(e){var a=t.props.cuttingData;if(t.formRefOutput.current.setFieldsValue({outputItemName:void 0,quantityWeight:void 0,quantityVolume:void 0}),t.formRefInput.current.setFieldsValue({productionId:void 0,inputQuantityWeight:void 0,inputQuantityVolume:void 0,itemName:void 0}),"production"===e){var n=a.supplyList.map((function(t){return o.a.createElement(f,{value:t.production_id,key:t.production_id},t.production_id)}));t.setState({formProductionIdHideToggle:!1,productionIdSelectOption:n,inputItemSelectOption:[],outputItemList:[],outputItemSelectOption:[],outputQuantityVolumeMeasurementUnit:"Ekor",isInputQuantityWeightDisabled:!0,isInputQuantityVolumeDisabled:!0})}else{t.setState({formProductionIdHideToggle:!0,outputItemList:[],outputItemSelectOption:[]});var i=a.stockList.filter((function(t){return"whole"===t.group&&!0===t.is_input})).map((function(t){return o.a.createElement(f,{value:t.item_name,key:t.item_name},t.item_name)}));t.setState({inputItemSelectOption:i,outputQuantityVolumeMeasurementUnit:"Pax",isInputQuantityWeightDisabled:!1,isInputQuantityVolumeDisabled:!1})}},t.onProductionIdChange=function(e){var a=t.props.cuttingData,n=a.itemList.filter((function(t){return"whole"===t.group})).map((function(t){return o.a.createElement(f,{value:t.name,key:t.name},t.name)}));t.setState({inputItemSelectOption:[],outputItemSelectOption:n,outputItemList:[]});var i=a.supplyList.filter((function(t){return t.production_id===e})),u=i.map((function(t){return o.a.createElement(f,{value:t.item_name,key:t.item_name},t.item_name)}));t.formRefInput.current.setFieldsValue({itemName:i[0].item_name,inputQuantityWeight:i[0].quantity_weight,inputQuantityVolume:i[0].quantity_volume}),t.formRefOutput.current.setFieldsValue({outputItemName:void 0,quantityWeight:void 0,quantityVolume:void 0}),t.setState({inputItemSelectOption:u})},t.onInputItemChange=function(e){var a=t.props.cuttingData,n="Ekor",i=a.stockList.filter((function(t){return t.item_name===e}));console.log("inputitem list",i);var u="whole";"whole"===i[0].group&&(n="main"===i[0].type?n:"Pax",u="pieces",t.formRefInput.current.setFieldsValue({inputQuantityWeight:i[0].quantity_weight,inputQuantityVolume:i[0].quantity_volume}));var l=a.itemList.filter((function(t){return t.group===u})).map((function(t){return o.a.createElement(f,{value:t.name,key:t.name},t.name)}));t.setState({outputItemSelectOption:l,outputItemList:[],inputQuantityVolumeMeasurementUnit:n}),t.formRefOutput.current.setFieldsValue({outputItemName:void 0,quantityWeight:void 0,quantityVolume:void 0})},t.onOutputItemChange=function(e){var a=t.props.cuttingData,n=t.state.outputQuantityVolumeMeasurementUnit,i=a.itemList.filter((function(t){return t.name===e}));"whole"===i[0].group&&(n="main"===i[0].type?"Ekor":n),t.formRefOutput.current.setFieldsValue({quantityWeight:void 0,quantityVolume:void 0}),t.setState({outputQuantityVolumeMeasurementUnit:n})},t.onButtonAddClick=function(){var e=t.props.newCuttingId,a=t.state.outputItemList;if(null===a||a.length<1)d.a.error({message:"Please fill required data"});else{var n=t.formRefInput.current.getFieldsValue(),i=n.itemName,u=n.inputQuantityWeight,l=n.inputQuantityVolume,r=t.formRefInput.current.getFieldsValue().productionId,o={cuttingId:e,itemInput:i,inputQuantityWeight:u,inputQuantityVolume:l,itemOutput:a,referenceId:r=void 0===r?"":r};(0,t.props.processCutting)(o)}},t.onFinish=function(e){var a=t.state.outputItemList;t.setState({outputItemList:[]});var n=1;null===a?a=[]:a.length>0&&(n=a[a.length-1].key+1),a.push({key:n,name:e.outputItemName,quantityWeight:e.quantityWeight,quantityVolume:e.quantityVolume}),t.setState({outputItemList:a}),t.formRefOutput.current.setFieldsValue({outputItemName:void 0,quantityWeight:void 0,quantityVolume:void 0})},t}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var t=this.props,e=t.generateCuttingId,a=t.getCuttingData;e(),a()}},{key:"render",value:function(){var t=[{title:"Nama Item",width:100,dataIndex:"name",key:"name"},{title:"Quantity (kg)",width:100,dataIndex:"quantityWeight",key:"quantityWeight"},{title:"Quantity (Ekor / Pax)",width:100,dataIndex:"quantityVolume",key:"quantityVolume"},{title:"Action",key:"operation",fixed:"right",width:60,render:function(){return o.a.createElement("a",null,"Delete")}}],e={labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:12}}},a=this.props,n=a.newCuttingId,i=a.cuttingData,u=(new Date).toLocaleDateString("en-US");if(Object.keys(i).length>0){var l=i.itemList.filter((function(t){return"whole"===t.group}));console.log("itemList",l)}var r=this.state,s=r.inputItemSelectOption,d=r.outputItemSelectOption,v=r.productionIdSelectOption,E=r.formProductionIdHideToggle,k=r.outputItemList,b=r.inputQuantityVolumeMeasurementUnit,_=r.outputQuantityVolumeMeasurementUnit,Q=r.isInputQuantityWeightDisabled,V=r.isInputQuantityVolumeDisabled;return s=s||[],d=d||[],v=v||[],E=null===E||E,Q=null===Q||Q,V=null===V||V,k=k||[],b=b||"Ekor",_=_||"Ekor",o.a.createElement("div",null,o.a.createElement(c.a,{title:"Input / Pengajuan"}),o.a.createElement("div",{className:"kit__utils__heading"},o.a.createElement("h5",null,"Input pengajuan")),o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-body"},o.a.createElement(g.a,Object.assign({},e,{ref:this.formRefInput,labelAlign:"left"}),o.a.createElement(g.a.Item,{name:"cuttingId",label:"Kode Cutting"},o.a.createElement(h.a,{placeholder:n,disabled:!0})),o.a.createElement(g.a.Item,{name:"dateToday",label:"Tanggal"},o.a.createElement(h.a,{placeholder:u,disabled:!0})),o.a.createElement("div",{className:"kit__utils__heading"},o.a.createElement("h5",null,"Asal Item Produksi")),o.a.createElement(g.a.Item,{id:"itemSource",name:"itemSource",label:"Asal Item",rules:[{required:!0,message:"Asal Item harus dipilih"}]},o.a.createElement(p.a,{onChange:this.onItemSourceChange,placeholder:"Pilih asal item"},o.a.createElement(f,{value:"production",key:"production"},"Pengajuan"),o.a.createElement(f,{value:"freshWarehouse",key:"freshWarehouse"},"Gudang fresh"))),o.a.createElement(g.a.Item,{id:"productionId",name:"productionId",label:"Kode produksi",rules:[{required:!0,message:"Item harus dipilih"}],style:!0===E?{display:"none"}:{display:""}},o.a.createElement(p.a,{onChange:this.onProductionIdChange,placeholder:"Pilih Kode Produksi"},v)),o.a.createElement(g.a.Item,{id:"itemName",name:"itemName",label:"Nama Item",rules:[{required:!0,message:"Item harus dipilih"}]},o.a.createElement(p.a,{onChange:this.onInputItemChange,placeholder:"Pilih item"},s)),o.a.createElement(g.a.Item,{name:"inputQuantityWeight",label:"Quantity",rules:[{required:!0,message:"Quantity harus diisi"}]},o.a.createElement(h.a,{type:"number",disabled:Q,placeholder:"Masukkan quantity",addonAfter:"kg"})),o.a.createElement(g.a.Item,{name:"inputQuantityVolume",label:"Quantity",rules:[{required:!0,message:"Quantity harus diisi"}]},o.a.createElement(h.a,{type:"number",disabled:V,placeholder:"Masukkan quantity",addonAfter:b}))),o.a.createElement(g.a,Object.assign({},e,{ref:this.formRefOutput,labelAlign:"left",onFinish:this.onFinish}),o.a.createElement("div",{className:"kit__utils__heading"},o.a.createElement("h5",null,"Hasil Produksi")),o.a.createElement(g.a.Item,{id:"outputItemName",name:"outputItemName",label:"Nama Item",rules:[{required:!0,message:"Item harus dipilih"}]},o.a.createElement(p.a,{onChange:this.onOutputItemChange,placeholder:"Pilih item"},d)),o.a.createElement(g.a.Item,{name:"quantityWeight",label:"Quantity",rules:[{required:!0,message:"Quantity harus diisi"}]},o.a.createElement(h.a,{type:"number",placeholder:"Masukkan quantity",addonAfter:"kg"})),o.a.createElement(g.a.Item,{name:"quantityVolume",label:"Quantity",rules:[{required:!0,message:"Quantity harus diisi"}]},o.a.createElement(h.a,{type:"number",placeholder:"Masukkan quantity",addonAfter:_})),o.a.createElement("button",{type:"submit",className:"btn btn-success"},"Tambah Hasil Produksi"),o.a.createElement("div",null,o.a.createElement("br",null)),o.a.createElement("div",{className:"mb-4 kit__utils__scrollTable"},o.a.createElement(y.a,{columns:t,dataSource:k,scroll:{x:1500,y:300}}))),o.a.createElement(m.a,{to:"/",className:"kit__utils__link font-size-16"},o.a.createElement("i",{className:"fe fe-arrow-left mr-1 align-middle"}),"Kembali"),o.a.createElement(I.a,{onClick:this.onButtonAddClick,className:"float-right",style:{backgroundColor:"#55c392"}},"Proses"))))}}]),a}(o.a.Component);e.default=Object(s.c)((function(t){var e=t.cutting;return{newCuttingId:e.newCuttingId,cuttingData:e.cuttingData}}),(function(t){return{generateCuttingId:function(){t({type:"cutting/GENERATE_CUTTING_ID"})},getCuttingData:function(){t({type:"cutting/GET_DATA"})},processCutting:function(e){t({type:"cutting/PROCESS_CUTTING",payload:e})}}}))(v)}}]);
//# sourceMappingURL=15.ff372851.chunk.js.map