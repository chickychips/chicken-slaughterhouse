(this["webpackJsonpchicken-slaughterhouse"]=this["webpackJsonpchicken-slaughterhouse"]||[]).push([[18],{523:function(e,t,a){},540:function(e,t,a){"use strict";a.r(t);var n=a(321),i=a(322),u=a(323),l=a(324),r=a(0),m=a.n(r),s=a(45),o=a(14),c=a(133),p=a(374),d=a(189),h=a(548),y=a(549),f=a(547),g=a(97),E=(a(523),p.a.Option),_=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,u=new Array(i),l=0;l<i;l++)u[l]=arguments[l];return(e=t.call.apply(t,[this].concat(u))).state={totalQuantityWeight:null,totalQuantityVolume:null,freezeDataDetails:null,inputItemSelectOption:null,outputItemName:null,inputQuantityVolumeMeasurementUnit:null},e.formRefInput=m.a.createRef(),e.onInputItemChange=function(t){var a="Ekor",n=e.props.freezeData.filter((function(e){return e.item_name===t}));"whole"===n[0].group&&(a="main"===n[0].type?a:"Pax"),e.formRefInput.current.setFieldsValue({inputQuantityWeight:n[0].quantity_weight,inputQuantityVolume:n[0].quantity_volume}),e.setState({inputQuantityVolumeMeasurementUnit:a,outputItemName:"FROZEN ".concat(t)})},e.onFinish=function(t){var a=e.state,n=a.freezeDataDetails,i=a.totalQuantityWeight,u=a.totalQuantityVolume;e.setState({freezeDataDetails:[]});var l=1;null===n?n=[]:n.length>0&&(l=n[n.length-1].key+1),n.push({key:l,item_name:t.inputItemName,item_name_fresh:"FRESH ".concat(t.inputItemName),input_quantity_weight:t.inputQuantityWeight,input_quantity_volume:t.inputQuantityVolume,output_quantity_weight:t.outputQuantityWeight,output_quantity_volume:t.outputQuantityVolume}),i+=parseInt(t.outputQuantityWeight,10),u+=parseInt(t.outputQuantityVolume,10),e.setState({freezeDataDetails:n,totalQuantityWeight:i,totalQuantityVolume:u}),e.formRefInput.current.setFieldsValue({inputItemName:void 0,inputQuantityWeight:void 0,inputQuantityVolume:void 0,outputItemName:void 0,outputQuantityWeight:void 0,outputQuantityVolume:void 0})},e.onButtonAddClick=function(){var t=e.props.newFreezeId,a=e.state.freezeDataDetails;if(null===a||a.length<1)d.a.error({message:"Silahkan pilih item yang ingin di freeze"});else{var n={freezeId:t,items:a};(0,e.props.processFreeze)(n)}},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.generateFreezeId,a=e.getFreezeData;t(),a()}},{key:"render",value:function(){var e=this.props,t=e.newFreezeId,a=e.freezeData,n=(new Date).toLocaleDateString("en-US"),i=this.state,u=i.totalQuantityWeight,l=i.totalQuantityVolume,r=i.freezeDataDetails,o=i.inputItemSelectOption,d=i.outputItemName,_=i.inputQuantityVolumeMeasurementUnit;return o=o||[],r=r||[],u=u||0,l=l||0,d=d||"",_=_||"Ekor",a.length>0&&(o=a.map((function(e){return m.a.createElement(E,{value:e.item_name,key:e.item_name},"FRESH ",e.item_name)}))),m.a.createElement("div",null,m.a.createElement(c.a,{title:"Process / freeze"}),m.a.createElement("div",{className:"kit__utils__heading"},m.a.createElement("h5",null,"Proses Freeze")),m.a.createElement("div",{className:"card"},m.a.createElement("div",{className:"card-body"},m.a.createElement(h.a,Object.assign({},{labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:12}}},{ref:this.formRefInput,labelAlign:"left",onFinish:this.onFinish}),m.a.createElement(h.a.Item,{name:"newFreezeId",label:"Kode freeze"},m.a.createElement(y.a,{placeholder:t,disabled:!0})),m.a.createElement(h.a.Item,{name:"dateToday",label:"Tanggal"},m.a.createElement(y.a,{placeholder:n,disabled:!0})),m.a.createElement(h.a.Item,{id:"inputItemName",name:"inputItemName",label:"Nama Item",rules:[{required:!0,message:"Item harus dipilih"}]},m.a.createElement(p.a,{onChange:this.onInputItemChange,placeholder:"Pilih item"},o)),m.a.createElement(h.a.Item,{name:"inputQuantityWeight",label:"Quantity",rules:[{required:!0,message:"Quantity harus diisi"}]},m.a.createElement(y.a,{type:"number",placeholder:"Masukkan quantity",addonAfter:"kg"})),m.a.createElement(h.a.Item,{name:"inputQuantityVolume",label:"Quantity",rules:[{required:!0,message:"Quantity harus diisi"}]},m.a.createElement(y.a,{type:"number",placeholder:"Masukkan quantity",addonAfter:_})),m.a.createElement("div",{className:"kit__utils__heading"},m.a.createElement("h5",null,"Hasil Freeze")),m.a.createElement(h.a.Item,{name:"outputItemName",label:"Item hasil"},m.a.createElement(y.a,{placeholder:d,disabled:!0})),m.a.createElement(h.a.Item,{name:"outputQuantityWeight",label:"Quantity",rules:[{required:!0,message:"Quantity harus diisi"}]},m.a.createElement(y.a,{type:"number",placeholder:"Masukkan quantity",addonAfter:"kg"})),m.a.createElement(h.a.Item,{name:"outputQuantityVolume",label:"Quantity",rules:[{required:!0,message:"Quantity harus diisi"}]},m.a.createElement(y.a,{type:"number",placeholder:"Masukkan quantity",addonAfter:_})),m.a.createElement("button",{type:"submit",className:"btn btn-success"},"Tambah Hasil Freeze"),m.a.createElement("div",null,m.a.createElement("br",null)),m.a.createElement("div",{className:"mb-4 kit__utils__scrollTable"},m.a.createElement(f.a,{columns:[{title:"Nama Item",width:100,dataIndex:"item_name_fresh",key:"item_name_fresh"},{title:"Qty (kg)",width:100,dataIndex:"output_quantity_weight",key:"output_quantity_weight"},{title:"Qty (Ekor/Pax)",width:100,dataIndex:"output_quantity_volume",key:"output_quantity_volume"}],dataSource:r}))),m.a.createElement("div",{className:"border-top text-dark font-size-18 pt-4"},m.a.createElement("p",{className:"mb-1 text-right"},"Total Qty (kg): ",m.a.createElement("strong",{className:"font-size-24"},u)),m.a.createElement("p",{className:"mb-1 text-right"},"Total Qty (Ekor/Pax): ",m.a.createElement("strong",{className:"font-size-24"},l)),m.a.createElement(s.a,{to:"/",className:"kit__utils__link font-size-16"},m.a.createElement("i",{className:"fe fe-arrow-left mr-1 align-middle"}),"Kembali"),m.a.createElement(g.a,{onClick:this.onButtonAddClick,className:"btn btn-lg btn-success width-200 mb-2 float-right"},"Proses")))))}}]),a}(m.a.Component);t.default=Object(o.c)((function(e){var t=e.freeze;return{newFreezeId:t.newFreezeId,freezeData:t.freezeData}}),(function(e){return{generateFreezeId:function(){e({type:"freeze/GENERATE_FREEZE_ID"})},getFreezeData:function(){e({type:"freeze/GET_DATA"})},processFreeze:function(t){e({type:"freeze/PROCESS_FREEZE",payload:t})}}}))(_)}}]);
//# sourceMappingURL=18.ce8e9235.chunk.js.map