(this["webpackJsonpchicken-slaughterhouse"]=this["webpackJsonpchicken-slaughterhouse"]||[]).push([[16],{529:function(e,a,t){},543:function(e,a,t){"use strict";t.r(a);var n=t(321),i=t(322),s=t(323),l=t(324),u=t(0),r=t.n(u),m=t(45),o=t(14),p=t(133),c=t(376),d=t(189),h=t(548),g=t(549),x=t(547),E=t(97),f=(t(529),c.a.Option),y=function(e){Object(l.a)(t,e);var a=Object(s.a)(t);function t(){var e;Object(n.a)(this,t);for(var i=arguments.length,s=new Array(i),l=0;l<i;l++)s[l]=arguments[l];return(e=a.call.apply(a,[this].concat(s))).state={expensesSelectOption:null,expenseCuttingList:null,expenseCuttingMeasurementUnit:null,expenseFreezeList:null,expenseFreezeMeasurementUnit:null,expenseThawingList:null,expenseThawingMeasurementUnit:null},e.formRefInputExpenseCutting=r.a.createRef(),e.formRefInputExpenseFreeze=r.a.createRef(),e.formRefInputExpenseThawing=r.a.createRef(),e.onExpenseCuttingNameChange=function(a){var t=e.props.expenses;e.formRefInputExpenseCutting.current.setFieldsValue({quantity:void 0,unitAmount:void 0,totalAmount:void 0});var n=t.filter((function(e){return e.name===a}));e.setState({expenseCuttingMeasurementUnit:n[0].measurement_unit_name})},e.onExpenseFreezeNameChange=function(a){var t=e.props.expenses;e.formRefInputExpenseFreeze.current.setFieldsValue({quantity:void 0,unitAmount:void 0,totalAmount:void 0});var n=t.filter((function(e){return e.name===a}));e.setState({expenseFreezeMeasurementUnit:n[0].measurement_unit_name})},e.onExpenseThawingNameChange=function(a){var t=e.props.expenses;e.formRefInputExpenseThawing.current.setFieldsValue({quantity:void 0,unitAmount:void 0,totalAmount:void 0});var n=t.filter((function(e){return e.name===a}));e.setState({expenseThawingMeasurementUnit:n[0].measurement_unit_name})},e.onCuttingQuantityChange=function(a){var t=e.formRefInputExpenseCutting.current.getFieldsValue().unitAmount;void 0!==t&&""!==t||(t=0);var n=a.target.value*t;e.formRefInputExpenseCutting.current.setFieldsValue({totalAmount:n})},e.onCuttingUnitAmountChange=function(a){var t=e.formRefInputExpenseCutting.current.getFieldsValue().quantity;void 0!==t&&""!==t||(t=0);var n=a.target.value*t;e.formRefInputExpenseCutting.current.setFieldsValue({totalAmount:n})},e.onFreezeQuantityChange=function(a){var t=e.formRefInputExpenseFreeze.current.getFieldsValue().unitAmount;void 0!==t&&""!==t||(t=0);var n=a.target.value*t;e.formRefInputExpenseFreeze.current.setFieldsValue({totalAmount:n})},e.onFreezeUnitAmountChange=function(a){var t=e.formRefInputExpenseFreeze.current.getFieldsValue().quantity;void 0!==t&&""!==t||(t=0);var n=a.target.value*t;e.formRefInputExpenseFreeze.current.setFieldsValue({totalAmount:n})},e.onThawingQuantityChange=function(a){var t=e.formRefInputExpenseThawing.current.getFieldsValue().unitAmount;void 0!==t&&""!==t||(t=0);var n=a.target.value*t;e.formRefInputExpenseThawing.current.setFieldsValue({totalAmount:n})},e.onThawingUnitAmountChange=function(a){var t=e.formRefInputExpenseThawing.current.getFieldsValue().quantity;void 0!==t&&""!==t||(t=0);var n=a.target.value*t;e.formRefInputExpenseThawing.current.setFieldsValue({totalAmount:n})},e.onFinishExpenseCutting=function(a){var t=e.state.expenseCuttingList,n=e.state.expenseCuttingMeasurementUnit;e.setState({expenseCuttingList:[]});var i=1;null===t?t=[]:t.length>0&&(i=t[t.length-1].key+1),t.push({key:i,expense_type:"cutting",expense_name:a.expenseName,measurement_unit:n,quantity:a.quantity,unit_amount:a.unitAmount,total_amount:a.totalAmount}),e.setState({expenseCuttingList:t}),e.formRefInputExpenseCutting.current.setFieldsValue({expenseName:void 0,measurement_unit:"pax",quantity:void 0,unitAmount:void 0,totalAmount:void 0})},e.onFinishExpenseFreeze=function(a){var t=e.state.expenseFreezeList,n=e.state.expenseFreezeMeasurementUnit;e.setState({expenseFreezeList:[]});var i=1;null===t?t=[]:t.length>0&&(i=t[t.length-1].key+1),t.push({key:i,expense_type:"freeze",expense_name:a.expenseName,measurement_unit:n,quantity:a.quantity,unit_amount:a.unitAmount,total_amount:a.totalAmount}),e.setState({expenseFreezeList:t}),e.formRefInputExpenseFreeze.current.setFieldsValue({expenseName:void 0,measurement_unit:"pax",quantity:void 0,unitAmount:void 0,totalAmount:void 0})},e.onFinishExpenseThawing=function(a){var t=e.state.expenseThawingList,n=e.state.expenseThawingMeasurementUnit;e.setState({expenseThawingList:[]});var i=1;null===t?t=[]:t.length>0&&(i=t[t.length-1].key+1),t.push({key:i,expense_type:"thawing",expense_name:a.expenseName,measurement_unit:n,quantity:a.quantity,unit_amount:a.unitAmount,total_amount:a.totalAmount}),e.setState({expenseThawingList:t}),e.formRefInputExpenseThawing.current.setFieldsValue({expenseName:void 0,measurement_unit:"pax",quantity:void 0,unitAmount:void 0,totalAmount:void 0})},e.onButtonAddClick=function(){var a=e.props.newExpenseId,t=e.state,n=t.expenseCuttingList,i=t.expenseFreezeList,s=t.expenseThawingList;if((null===n||n.length<1)&&(null===i||i.length<1)&&(null===s||s.length<1))d.a.error({message:"Please fill required data"});else{var l={expenseId:a,expenseCutting:n,expenseFreeze:i,expenseThawing:s};console.log(l),(0,e.props.addExpenseData)(l)}},e}return Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,a=e.generateExpenseId,t=e.getExpenses;a(),t()}},{key:"render",value:function(){var e=[{title:"Tipe Biaya",dataIndex:"expense_type",key:"expense_type"},{title:"Nama Biaya",dataIndex:"expense_name",key:"expense_name"},{title:"Jumlah",dataIndex:"quantity",key:"quantity"},{title:"Satuan",dataIndex:"measurement_unit",key:"measurement_unit"},{title:"Harga",dataIndex:"unit_amount",key:"unit_amount"},{title:"Total",dataIndex:"total_amount",key:"total_amount"}],a={labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:12}}},t=this.props,n=t.newExpenseId,i=t.expenses,s=(new Date).toLocaleDateString("en-US"),l=this.state,u=l.expensesSelectOption,o=l.expenseCuttingList,d=l.expenseCuttingMeasurementUnit,y=l.expenseFreezeList,v=l.expenseFreezeMeasurementUnit,b=l.expenseThawingList,_=l.expenseThawingMeasurementUnit;return o=o||[],d=d||"pax",y=y||[],v=v||"pax",b=b||[],_=_||"pax",i.length>0&&(u=i.map((function(e){return r.a.createElement(f,{value:e.name,key:e.name},e.name)}))),r.a.createElement("div",null,r.a.createElement(p.a,{title:"Input / Pengajuan"}),r.a.createElement("div",{className:"kit__utils__heading"},r.a.createElement("h5",null,"Input Biaya")),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement(h.a,Object.assign({},a,{ref:this.formRefInputExpenseCutting,labelAlign:"left",onFinish:this.onFinishExpenseCutting}),r.a.createElement("div",{className:"kit__utils__heading"},r.a.createElement("h5",null,"Biaya Produksi Cutting")),r.a.createElement(h.a.Item,{name:"expenseId",label:"Kode Biaya"},r.a.createElement(g.a,{placeholder:n,disabled:!0})),r.a.createElement(h.a.Item,{name:"dateToday",label:"Tanggal"},r.a.createElement(g.a,{placeholder:s,disabled:!0})),r.a.createElement(h.a.Item,{id:"expenseName",name:"expenseName",label:"Nama Biaya",rules:[{required:!0,message:"Nama Biaya harus dipilih"}]},r.a.createElement(c.a,{onChange:this.onExpenseCuttingNameChange,placeholder:"Pilih Biaya"},u)),r.a.createElement(h.a.Item,{name:"quantity",label:"Jumlah",rules:[{required:!0,message:"Jumlah harus diisi"}]},r.a.createElement(g.a,{type:"number",onChange:this.onCuttingQuantityChange,placeholder:"Masukkan jumlah",addonAfter:d})),r.a.createElement(h.a.Item,{name:"unitAmount",label:"Harga",rules:[{required:!0,message:"Harga harus diisi"}]},r.a.createElement(g.a,{type:"number",onChange:this.onCuttingUnitAmountChange,addonBefore:"Rp",placeholder:"Masukkan harga"})),r.a.createElement(h.a.Item,{name:"totalAmount",label:"Total",rules:[{required:!0,message:"Total harus diisi"}]},r.a.createElement(g.a,{type:"number",addonBefore:"Rp",placeholder:"Masukkan Total",disabled:!0})),r.a.createElement("button",{type:"submit",className:"btn btn-success"},"Tambah Biaya Cutting"),r.a.createElement("div",null,r.a.createElement("br",null)),r.a.createElement("div",{className:"mb-4 kit__utils__scrollTable"},r.a.createElement(x.a,{columns:e,dataSource:o,scroll:{x:1500,y:300}}))),r.a.createElement(h.a,Object.assign({},a,{ref:this.formRefInputExpenseFreeze,labelAlign:"left",onFinish:this.onFinishExpenseFreeze}),r.a.createElement("div",{className:"kit__utils__heading"},r.a.createElement("h5",null,"Biaya Produksi Freeze")),r.a.createElement(h.a.Item,{name:"expenseId",label:"Kode Biaya"},r.a.createElement(g.a,{placeholder:n,disabled:!0})),r.a.createElement(h.a.Item,{name:"dateToday",label:"Tanggal"},r.a.createElement(g.a,{placeholder:s,disabled:!0})),r.a.createElement(h.a.Item,{id:"expenseName",name:"expenseName",label:"Nama Biaya",rules:[{required:!0,message:"Nama Biaya harus dipilih"}]},r.a.createElement(c.a,{onChange:this.onExpenseFreezeNameChange,placeholder:"Pilih Biaya"},u)),r.a.createElement(h.a.Item,{name:"quantity",label:"Jumlah",rules:[{required:!0,message:"Jumlah harus diisi"}]},r.a.createElement(g.a,{type:"number",onChange:this.onFreezeQuantityChange,placeholder:"Masukkan jumlah",addonAfter:v})),r.a.createElement(h.a.Item,{name:"unitAmount",label:"Harga",rules:[{required:!0,message:"Harga harus diisi"}]},r.a.createElement(g.a,{type:"number",onChange:this.onFreezeUnitAmountChange,addonBefore:"Rp",placeholder:"Masukkan harga"})),r.a.createElement(h.a.Item,{name:"totalAmount",label:"Total",rules:[{required:!0,message:"Total harus diisi"}]},r.a.createElement(g.a,{type:"number",addonBefore:"Rp",placeholder:"Masukkan Total",disabled:!0})),r.a.createElement("button",{type:"submit",className:"btn btn-success"},"Tambah Biaya Freeze"),r.a.createElement("div",null,r.a.createElement("br",null)),r.a.createElement("div",{className:"mb-4 kit__utils__scrollTable"},r.a.createElement(x.a,{columns:e,dataSource:y,scroll:{x:1500,y:300}}))),r.a.createElement(h.a,Object.assign({},a,{ref:this.formRefInputExpenseThawing,labelAlign:"left",onFinish:this.onFinishExpenseThawing}),r.a.createElement("div",{className:"kit__utils__heading"},r.a.createElement("h5",null,"Biaya Produksi Thawing")),r.a.createElement(h.a.Item,{name:"expenseId",label:"Kode Biaya"},r.a.createElement(g.a,{placeholder:n,disabled:!0})),r.a.createElement(h.a.Item,{name:"dateToday",label:"Tanggal"},r.a.createElement(g.a,{placeholder:s,disabled:!0})),r.a.createElement(h.a.Item,{id:"expenseName",name:"expenseName",label:"Nama Biaya",rules:[{required:!0,message:"Nama Biaya harus dipilih"}]},r.a.createElement(c.a,{onChange:this.onExpenseThawingNameChange,placeholder:"Pilih Biaya"},u)),r.a.createElement(h.a.Item,{name:"quantity",label:"Jumlah",rules:[{required:!0,message:"Jumlah harus diisi"}]},r.a.createElement(g.a,{type:"number",onChange:this.onThawingQuantityChange,placeholder:"Masukkan jumlah",addonAfter:_})),r.a.createElement(h.a.Item,{name:"unitAmount",label:"Harga",rules:[{required:!0,message:"Harga harus diisi"}]},r.a.createElement(g.a,{type:"number",onChange:this.onThawingUnitAmountChange,addonBefore:"Rp",placeholder:"Masukkan harga"})),r.a.createElement(h.a.Item,{name:"totalAmount",label:"Total",rules:[{required:!0,message:"Total harus diisi"}]},r.a.createElement(g.a,{type:"number",addonBefore:"Rp",placeholder:"Masukkan Total",disabled:!0})),r.a.createElement("button",{type:"submit",className:"btn btn-success"},"Tambah Biaya Thawing"),r.a.createElement("div",null,r.a.createElement("br",null)),r.a.createElement("div",{className:"mb-4 kit__utils__scrollTable"},r.a.createElement(x.a,{columns:e,dataSource:b,scroll:{x:1500,y:300}}))),r.a.createElement(m.a,{to:"/",className:"kit__utils__link font-size-16"},r.a.createElement("i",{className:"fe fe-arrow-left mr-1 align-middle"}),"Kembali"),r.a.createElement(E.a,{onClick:this.onButtonAddClick,className:"float-right",style:{backgroundColor:"#55c392"}},"Proses"))))}}]),t}(r.a.Component);a.default=Object(o.c)((function(e){var a=e.expense,t=e.masterData;return{newExpenseId:a.newExpenseId,expenses:t.expenses}}),(function(e){return{generateExpenseId:function(){e({type:"expense/GENERATE_EXPENSE_ID"})},getExpenses:function(){e({type:"masterData/GET_EXPENSES"})},addExpenseData:function(a){e({type:"expense/ADD_EXPENSE",payload:a})}}}))(y)}}]);
//# sourceMappingURL=16.9be3a375.chunk.js.map